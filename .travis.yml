language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "izzU5wSxwdJdT7Senw2ESZdk9FeK+cYqoo9TWfUDhjg2Z01Qy80E8Hja+lMCExA1e+IArXM3cAFpfsQz9Un5iUEt7RLYo98ynPDa0IF8KwvZTSWuBHeT7y5qIsI5KgKVFcSJwln1+XfGNwGD0j8k9H4AAB06HJsDXgC5/J/YPtGlgRToClgs6ktZKMJQzXBTSbwL9JXAhXE0yWekS/RONOQygGVqBe3EbTvILh07j3GbZ1cOr435s+vOfbQrxIUD53HJ/BjMDgT9pKrfN4Hsy7p40NQ0r8g9F5G3D0yrj+3GffkX/6F3py6yqlvJXm52bqBkrTD9HjMsNO+LjBLBi+QzWOPQn2t3Eo+XO0K52Mg9V98r2hi7QJH7pR6YvOOlyMG6OSTUh5dXXovxRaRY9mnObSg0fuJXTLCu9fGP2N+d96Be8CQm4+l8iGm5zlWEN6bVOCPp6CkwMMvy3l3sHiqgMY0b8PyRiIQO+xdTYxIQgxDEFV//G90JINFQYpfiFxedHELwXJBUqsilvXWQDci53d62wwKGdbu2I+YZSbTc4rqYwI+eP2M2mo69aGxe04UUcP9vf54Oq+9nZDBW1sE6I+Be9wCUyaHTVvR6tgph+qm6SJtS5VvWRx8N8LlYFFfWDBhiRSVvGxH2j5mROHULpcZk4nHMIDNQr2hJSs0="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
